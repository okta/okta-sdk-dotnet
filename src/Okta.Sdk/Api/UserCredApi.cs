// <copyright company="Okta, Inc">
// Copyright (c) 2014-present Okta, Inc. All rights reserved.
// Licensed under the Apache 2.0 license. See the LICENSE file in the project root for full license information.
// </copyright>

/*
 * Okta Admin Management
 *
 * Allows customers to easily access the Okta Management APIs
 *
 * The version of the OpenAPI document: 5.1.0
 * Contact: devex-public@okta.com
 * Generated by: https://github.com/openapitools/openapi-generator.git
 */


using System;
using System.Collections.Generic;
using System.Collections.ObjectModel;
using System.Linq;
using System.Net;
using System.Net.Mime;
using System.Threading;
using System.Threading.Tasks;
using Okta.Sdk.Client;
using Okta.Sdk.Model;

namespace Okta.Sdk.Api
{
    /// <summary>
    /// Represents a collection of functions to interact with the API endpoints
    /// </summary>
    public partial interface IUserCredApiAsync : IApiAccessor
    {
        #region Asynchronous Operations
        /// <summary>
        /// Update password
        /// </summary>
        /// <remarks>
        /// Updates a user&#39;s password by validating the user&#39;s current password.  This operation provides an option to delete all the sessions of the specified user. However, if the request is made in the context of a session owned by the specified user, that session isn&#39;t cleared.  You can only perform this operation on users in &#x60;STAGED&#x60;, &#x60;ACTIVE&#x60;, &#x60;PASSWORD_EXPIRED&#x60;, or &#x60;RECOVERY&#x60; status that have a valid [password credential](https://developer.okta.com/docs/api/openapi/okta-management/management/tag/User/#tag/User/operation/createUser!path&#x3D;credentials/password&amp;t&#x3D;request).  The user transitions to &#x60;ACTIVE&#x60; status when successfully invoked in &#x60;RECOVERY&#x60; status.  &gt; **Note:** The Okta account management policy doesn&#39;t support the &#x60;/users/{userId}/credentials/change_password&#x60; endpoint. See [Configure an Okta account management policy](https://developer.okta.com/docs/guides/okta-account-management-policy/main/).
        /// </remarks>
        /// <exception cref="Okta.Sdk.Client.ApiException">Thrown when fails to make API call</exception>
        /// <param name="userId">ID of an existing Okta user</param>
        /// <param name="changePasswordRequest"></param>
        /// <param name="strict">If true, validates against the password minimum age policy (optional, default to false)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns>Task of UserCredentials</returns>
        System.Threading.Tasks.Task<UserCredentials> ChangePasswordAsync(  string userId ,   ChangePasswordRequest changePasswordRequest ,   bool? strict = default(bool?) , System.Threading.CancellationToken cancellationToken = default(System.Threading.CancellationToken));
        /// <summary>
        /// Update password
        /// </summary>
        /// <remarks>
        /// Updates a user&#39;s password by validating the user&#39;s current password.  This operation provides an option to delete all the sessions of the specified user. However, if the request is made in the context of a session owned by the specified user, that session isn&#39;t cleared.  You can only perform this operation on users in &#x60;STAGED&#x60;, &#x60;ACTIVE&#x60;, &#x60;PASSWORD_EXPIRED&#x60;, or &#x60;RECOVERY&#x60; status that have a valid [password credential](https://developer.okta.com/docs/api/openapi/okta-management/management/tag/User/#tag/User/operation/createUser!path&#x3D;credentials/password&amp;t&#x3D;request).  The user transitions to &#x60;ACTIVE&#x60; status when successfully invoked in &#x60;RECOVERY&#x60; status.  &gt; **Note:** The Okta account management policy doesn&#39;t support the &#x60;/users/{userId}/credentials/change_password&#x60; endpoint. See [Configure an Okta account management policy](https://developer.okta.com/docs/guides/okta-account-management-policy/main/).
        /// </remarks>
        /// <exception cref="Okta.Sdk.Client.ApiException">Thrown when fails to make API call</exception>
        /// <param name="userId">ID of an existing Okta user</param>
        /// <param name="changePasswordRequest"></param>
        /// <param name="strict">If true, validates against the password minimum age policy (optional, default to false)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns>Task of ApiResponse (UserCredentials)</returns>
        System.Threading.Tasks.Task<ApiResponse<UserCredentials>> ChangePasswordWithHttpInfoAsync(  string userId ,   ChangePasswordRequest changePasswordRequest ,   bool? strict = default(bool?) , System.Threading.CancellationToken cancellationToken = default(System.Threading.CancellationToken));
        /// <summary>
        /// Update recovery question
        /// </summary>
        /// <remarks>
        /// Updates a user&#39;s recovery question and answer credential by validating the user&#39;s current password. You can only perform this operation on users in &#x60;STAGED&#x60;, &#x60;ACTIVE&#x60;, or &#x60;RECOVERY&#x60; status that have a valid [password credential](https://developer.okta.com/docs/api/openapi/okta-management/management/tag/User/#tag/User/operation/createUser!path&#x3D;credentials/password&amp;t&#x3D;request).
        /// </remarks>
        /// <exception cref="Okta.Sdk.Client.ApiException">Thrown when fails to make API call</exception>
        /// <param name="userId">ID of an existing Okta user</param>
        /// <param name="userCredentials"></param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns>Task of UserCredentials</returns>
        System.Threading.Tasks.Task<UserCredentials> ChangeRecoveryQuestionAsync(  string userId ,   UserCredentials userCredentials , System.Threading.CancellationToken cancellationToken = default(System.Threading.CancellationToken));
        /// <summary>
        /// Update recovery question
        /// </summary>
        /// <remarks>
        /// Updates a user&#39;s recovery question and answer credential by validating the user&#39;s current password. You can only perform this operation on users in &#x60;STAGED&#x60;, &#x60;ACTIVE&#x60;, or &#x60;RECOVERY&#x60; status that have a valid [password credential](https://developer.okta.com/docs/api/openapi/okta-management/management/tag/User/#tag/User/operation/createUser!path&#x3D;credentials/password&amp;t&#x3D;request).
        /// </remarks>
        /// <exception cref="Okta.Sdk.Client.ApiException">Thrown when fails to make API call</exception>
        /// <param name="userId">ID of an existing Okta user</param>
        /// <param name="userCredentials"></param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns>Task of ApiResponse (UserCredentials)</returns>
        System.Threading.Tasks.Task<ApiResponse<UserCredentials>> ChangeRecoveryQuestionWithHttpInfoAsync(  string userId ,   UserCredentials userCredentials , System.Threading.CancellationToken cancellationToken = default(System.Threading.CancellationToken));
        /// <summary>
        /// Expire the password
        /// </summary>
        /// <remarks>
        /// Expires the password. This operation transitions the user status to &#x60;PASSWORD_EXPIRED&#x60; so that the user must change their password the next time that they sign in. &lt;br&gt; If you have integrated Okta with your on-premises Active Directory (AD), then setting a user&#39;s password as expired in Okta also expires the password in AD. When the user tries to sign in to Okta, delegated authentication finds the password-expired status in AD, and the user is presented with the password-expired page where they can change their password.  &gt; **Note:** The Okta account management policy doesn&#39;t support the &#x60;/users/{id}/lifecycle/expire_password&#x60; endpoint. See [Configure an Okta account management policy](https://developer.okta.com/docs/guides/okta-account-management-policy/main/).
        /// </remarks>
        /// <exception cref="Okta.Sdk.Client.ApiException">Thrown when fails to make API call</exception>
        /// <param name="id">An ID, login, or login shortname (as long as the shortname is unambiguous) of an existing Okta user</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns>Task of User</returns>
        System.Threading.Tasks.Task<User> ExpirePasswordAsync(  string id , System.Threading.CancellationToken cancellationToken = default(System.Threading.CancellationToken));
        /// <summary>
        /// Expire the password
        /// </summary>
        /// <remarks>
        /// Expires the password. This operation transitions the user status to &#x60;PASSWORD_EXPIRED&#x60; so that the user must change their password the next time that they sign in. &lt;br&gt; If you have integrated Okta with your on-premises Active Directory (AD), then setting a user&#39;s password as expired in Okta also expires the password in AD. When the user tries to sign in to Okta, delegated authentication finds the password-expired status in AD, and the user is presented with the password-expired page where they can change their password.  &gt; **Note:** The Okta account management policy doesn&#39;t support the &#x60;/users/{id}/lifecycle/expire_password&#x60; endpoint. See [Configure an Okta account management policy](https://developer.okta.com/docs/guides/okta-account-management-policy/main/).
        /// </remarks>
        /// <exception cref="Okta.Sdk.Client.ApiException">Thrown when fails to make API call</exception>
        /// <param name="id">An ID, login, or login shortname (as long as the shortname is unambiguous) of an existing Okta user</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns>Task of ApiResponse (User)</returns>
        System.Threading.Tasks.Task<ApiResponse<User>> ExpirePasswordWithHttpInfoAsync(  string id , System.Threading.CancellationToken cancellationToken = default(System.Threading.CancellationToken));
        /// <summary>
        /// Expire the password with a temporary password
        /// </summary>
        /// <remarks>
        /// Expires the password and resets the user&#39;s password to a temporary password. This operation transitions the user status to &#x60;PASSWORD_EXPIRED&#x60; so that the user must change their password the next time that they sign in. The user&#39;s password is reset to a temporary password that&#39;s returned, and then the user&#39;s password is expired. If &#x60;revokeSessions&#x60; is included in the request with a value of &#x60;true&#x60;, the user&#39;s current outstanding sessions are revoked and require re-authentication. &lt;br&gt; If you have integrated Okta with your on-premises Active Directory (AD), then setting a user&#39;s password as expired in Okta also expires the password in AD. When the user tries to sign in to Okta, delegated authentication finds the password-expired status in AD, and the user is presented with the password-expired page where they can change their password.
        /// </remarks>
        /// <exception cref="Okta.Sdk.Client.ApiException">Thrown when fails to make API call</exception>
        /// <param name="id">An ID, login, or login shortname (as long as the shortname is unambiguous) of an existing Okta user</param>
        /// <param name="revokeSessions">Revokes the user&#39;s existing sessions if &#x60;true&#x60; (optional, default to false)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns>Task of User</returns>
        System.Threading.Tasks.Task<User> ExpirePasswordWithTempPasswordAsync(  string id ,   bool? revokeSessions = default(bool?) , System.Threading.CancellationToken cancellationToken = default(System.Threading.CancellationToken));
        /// <summary>
        /// Expire the password with a temporary password
        /// </summary>
        /// <remarks>
        /// Expires the password and resets the user&#39;s password to a temporary password. This operation transitions the user status to &#x60;PASSWORD_EXPIRED&#x60; so that the user must change their password the next time that they sign in. The user&#39;s password is reset to a temporary password that&#39;s returned, and then the user&#39;s password is expired. If &#x60;revokeSessions&#x60; is included in the request with a value of &#x60;true&#x60;, the user&#39;s current outstanding sessions are revoked and require re-authentication. &lt;br&gt; If you have integrated Okta with your on-premises Active Directory (AD), then setting a user&#39;s password as expired in Okta also expires the password in AD. When the user tries to sign in to Okta, delegated authentication finds the password-expired status in AD, and the user is presented with the password-expired page where they can change their password.
        /// </remarks>
        /// <exception cref="Okta.Sdk.Client.ApiException">Thrown when fails to make API call</exception>
        /// <param name="id">An ID, login, or login shortname (as long as the shortname is unambiguous) of an existing Okta user</param>
        /// <param name="revokeSessions">Revokes the user&#39;s existing sessions if &#x60;true&#x60; (optional, default to false)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns>Task of ApiResponse (User)</returns>
        System.Threading.Tasks.Task<ApiResponse<User>> ExpirePasswordWithTempPasswordWithHttpInfoAsync(  string id ,   bool? revokeSessions = default(bool?) , System.Threading.CancellationToken cancellationToken = default(System.Threading.CancellationToken));
        /// <summary>
        /// Start forgot password flow
        /// </summary>
        /// <remarks>
        /// Starts the forgot password flow.  Generates a one-time token (OTT) that you can use to reset a user&#39;s password.  The user must validate their security question&#39;s answer when visiting the reset link. Perform this operation only on users with an &#x60;ACTIVE&#x60; status and a valid [recovery question credential](https://developer.okta.com/docs/api/openapi/okta-management/management/tag/User/#tag/User/operation/createUser!path&#x3D;credentials/recovery_question&amp;t&#x3D;request).  &gt; **Note:** If you have migrated to Identity Engine, you can allow users to recover passwords with any enrolled MFA authenticator. See [Self-service account recovery](https://help.okta.com/oie/en-us/content/topics/identity-engine/authenticators/configure-sspr.htm?cshid&#x3D;ext-config-sspr).  If an email address is associated with multiple users, keep in mind the following to ensure a successful password recovery lookup:   * Okta no longer includes deactivated users in the lookup.   * The lookup searches sign-in IDs first, then primary email addresses, and then secondary email addresses.  If &#x60;sendEmail&#x60; is &#x60;false&#x60;, returns a link for the user to reset their password. This operation doesn&#39;t affect the status of the user.
        /// </remarks>
        /// <exception cref="Okta.Sdk.Client.ApiException">Thrown when fails to make API call</exception>
        /// <param name="userId">ID of an existing Okta user</param>
        /// <param name="sendEmail">Sends a forgot password email to the user if &#x60;true&#x60; (optional, default to true)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns>Task of ForgotPasswordResponse</returns>
        System.Threading.Tasks.Task<ForgotPasswordResponse> ForgotPasswordAsync(  string userId ,   bool? sendEmail = default(bool?) , System.Threading.CancellationToken cancellationToken = default(System.Threading.CancellationToken));
        /// <summary>
        /// Start forgot password flow
        /// </summary>
        /// <remarks>
        /// Starts the forgot password flow.  Generates a one-time token (OTT) that you can use to reset a user&#39;s password.  The user must validate their security question&#39;s answer when visiting the reset link. Perform this operation only on users with an &#x60;ACTIVE&#x60; status and a valid [recovery question credential](https://developer.okta.com/docs/api/openapi/okta-management/management/tag/User/#tag/User/operation/createUser!path&#x3D;credentials/recovery_question&amp;t&#x3D;request).  &gt; **Note:** If you have migrated to Identity Engine, you can allow users to recover passwords with any enrolled MFA authenticator. See [Self-service account recovery](https://help.okta.com/oie/en-us/content/topics/identity-engine/authenticators/configure-sspr.htm?cshid&#x3D;ext-config-sspr).  If an email address is associated with multiple users, keep in mind the following to ensure a successful password recovery lookup:   * Okta no longer includes deactivated users in the lookup.   * The lookup searches sign-in IDs first, then primary email addresses, and then secondary email addresses.  If &#x60;sendEmail&#x60; is &#x60;false&#x60;, returns a link for the user to reset their password. This operation doesn&#39;t affect the status of the user.
        /// </remarks>
        /// <exception cref="Okta.Sdk.Client.ApiException">Thrown when fails to make API call</exception>
        /// <param name="userId">ID of an existing Okta user</param>
        /// <param name="sendEmail">Sends a forgot password email to the user if &#x60;true&#x60; (optional, default to true)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns>Task of ApiResponse (ForgotPasswordResponse)</returns>
        System.Threading.Tasks.Task<ApiResponse<ForgotPasswordResponse>> ForgotPasswordWithHttpInfoAsync(  string userId ,   bool? sendEmail = default(bool?) , System.Threading.CancellationToken cancellationToken = default(System.Threading.CancellationToken));
        /// <summary>
        /// Reset password with recovery question
        /// </summary>
        /// <remarks>
        /// Resets the user&#39;s password to the specified password if the provided answer to the recovery question is correct. You must include the recovery question answer with the submission.
        /// </remarks>
        /// <exception cref="Okta.Sdk.Client.ApiException">Thrown when fails to make API call</exception>
        /// <param name="userId">ID of an existing Okta user</param>
        /// <param name="userCredentials"></param>
        /// <param name="sendEmail"> (optional, default to true)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns>Task of UserCredentials</returns>
        System.Threading.Tasks.Task<UserCredentials> ForgotPasswordSetNewPasswordAsync(  string userId ,   UserCredentials userCredentials ,   bool? sendEmail = default(bool?) , System.Threading.CancellationToken cancellationToken = default(System.Threading.CancellationToken));
        /// <summary>
        /// Reset password with recovery question
        /// </summary>
        /// <remarks>
        /// Resets the user&#39;s password to the specified password if the provided answer to the recovery question is correct. You must include the recovery question answer with the submission.
        /// </remarks>
        /// <exception cref="Okta.Sdk.Client.ApiException">Thrown when fails to make API call</exception>
        /// <param name="userId">ID of an existing Okta user</param>
        /// <param name="userCredentials"></param>
        /// <param name="sendEmail"> (optional, default to true)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns>Task of ApiResponse (UserCredentials)</returns>
        System.Threading.Tasks.Task<ApiResponse<UserCredentials>> ForgotPasswordSetNewPasswordWithHttpInfoAsync(  string userId ,   UserCredentials userCredentials ,   bool? sendEmail = default(bool?) , System.Threading.CancellationToken cancellationToken = default(System.Threading.CancellationToken));
        /// <summary>
        /// Reset a password
        /// </summary>
        /// <remarks>
        /// Resets a password. Generates a one-time token (OTT) that you can use to reset a user&#39;s password. You can automatically email the OTT link to the user or return the OTT to the API caller and distribute using a custom flow.  This operation transitions the user to the &#x60;RECOVERY&#x60; status. The user is then not able to sign in or initiate a forgot password flow until they complete the reset flow.  This operation provides an option to delete all the user&#39;s sessions. However, if the request is made in the context of a session owned by the specified user, that session isn&#39;t cleared. &gt; **Note:** You can also use this API to convert a user with the Okta credential provider to use a federated provider. After this conversion, the user can&#39;t directly sign in with a password. &gt; To convert a federated user back to an Okta user, use the default API call.  If an email address is associated with multiple users, keep in mind the following to ensure a successful password recovery lookup:   * Okta no longer includes deactivated users in the lookup.   * The lookup searches sign-in IDs first, then primary email addresses, and then secondary email addresses.   If &#x60;sendEmail&#x60; is &#x60;false&#x60;, returns a link for the user to reset their password.
        /// </remarks>
        /// <exception cref="Okta.Sdk.Client.ApiException">Thrown when fails to make API call</exception>
        /// <param name="id">An ID, login, or login shortname (as long as the shortname is unambiguous) of an existing Okta user</param>
        /// <param name="sendEmail"></param>
        /// <param name="revokeSessions">Revokes all user sessions, except for the current session, if set to &#x60;true&#x60; (optional, default to false)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns>Task of ResetPasswordToken</returns>
        System.Threading.Tasks.Task<ResetPasswordToken> ResetPasswordAsync(  string id ,   bool sendEmail ,   bool? revokeSessions = default(bool?) , System.Threading.CancellationToken cancellationToken = default(System.Threading.CancellationToken));
        /// <summary>
        /// Reset a password
        /// </summary>
        /// <remarks>
        /// Resets a password. Generates a one-time token (OTT) that you can use to reset a user&#39;s password. You can automatically email the OTT link to the user or return the OTT to the API caller and distribute using a custom flow.  This operation transitions the user to the &#x60;RECOVERY&#x60; status. The user is then not able to sign in or initiate a forgot password flow until they complete the reset flow.  This operation provides an option to delete all the user&#39;s sessions. However, if the request is made in the context of a session owned by the specified user, that session isn&#39;t cleared. &gt; **Note:** You can also use this API to convert a user with the Okta credential provider to use a federated provider. After this conversion, the user can&#39;t directly sign in with a password. &gt; To convert a federated user back to an Okta user, use the default API call.  If an email address is associated with multiple users, keep in mind the following to ensure a successful password recovery lookup:   * Okta no longer includes deactivated users in the lookup.   * The lookup searches sign-in IDs first, then primary email addresses, and then secondary email addresses.   If &#x60;sendEmail&#x60; is &#x60;false&#x60;, returns a link for the user to reset their password.
        /// </remarks>
        /// <exception cref="Okta.Sdk.Client.ApiException">Thrown when fails to make API call</exception>
        /// <param name="id">An ID, login, or login shortname (as long as the shortname is unambiguous) of an existing Okta user</param>
        /// <param name="sendEmail"></param>
        /// <param name="revokeSessions">Revokes all user sessions, except for the current session, if set to &#x60;true&#x60; (optional, default to false)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns>Task of ApiResponse (ResetPasswordToken)</returns>
        System.Threading.Tasks.Task<ApiResponse<ResetPasswordToken>> ResetPasswordWithHttpInfoAsync(  string id ,   bool sendEmail ,   bool? revokeSessions = default(bool?) , System.Threading.CancellationToken cancellationToken = default(System.Threading.CancellationToken));
        #endregion Asynchronous Operations
    }

    /// <summary>
    /// Represents a collection of functions to interact with the API endpoints
    /// </summary>
    public partial interface IUserCredApi :  IUserCredApiAsync
    {

    }

    /// <summary>
    /// Represents a collection of functions to interact with the API endpoints
    /// </summary>
    public partial class UserCredApi : IUserCredApi
    {
        private Okta.Sdk.Client.ExceptionFactory _exceptionFactory = (name, response) => null;
        private IOAuthTokenProvider _oAuthTokenProvider;
        
        public UserCredApi(Okta.Sdk.Client.OktaApiClientOptions options) : this(options.Configuration, options.OAuthTokenProvider, options.WebProxy)
        {
            this.AsynchronousClient = new Okta.Sdk.Client.ApiClient(options);
        }

        /// <summary>
        /// Initializes a new instance of the <see cref="UserCredApi"/> class
        /// using Configuration object
        /// </summary>
        /// <param name="configuration">An instance of Configuration</param>
        /// <param name="oAuthTokenProvider">The access token provider to be used when the AuthorizationMode is equals to Private Key. Optional./param>
        /// <param name="webProxy">The web proxy to be used by the HTTP client. Optional./param>
        /// <returns></returns>
        public UserCredApi(Okta.Sdk.Client.Configuration configuration = null, IOAuthTokenProvider oAuthTokenProvider = null, WebProxy webProxy = null)
        {
            configuration = Sdk.Client.Configuration.GetConfigurationOrDefault(configuration);

            this.Configuration = Okta.Sdk.Client.Configuration.MergeConfigurations(
                Okta.Sdk.Client.GlobalConfiguration.Instance,
                configuration
            );
            
            Sdk.Client.Configuration.Validate((Configuration)this.Configuration);
            
            _oAuthTokenProvider = NullOAuthTokenProvider.Instance;
            if (Sdk.Client.Configuration.IsPrivateKeyMode(this.Configuration))
            {
                _oAuthTokenProvider = oAuthTokenProvider ?? new DefaultOAuthTokenProvider(Configuration);
            }
            
            this.AsynchronousClient = new Okta.Sdk.Client.ApiClient(this.Configuration.OktaDomain, _oAuthTokenProvider, webProxy);
            ExceptionFactory = Okta.Sdk.Client.Configuration.DefaultExceptionFactory;
        }

        /// <summary>
        /// Initializes a new instance of the <see cref="UserCredApi"/> class
        /// using a Configuration object and client instance.
        /// </summary>
        /// <param name="asyncClient">The client interface for asynchronous API access.</param>
        /// <param name="configuration">The configuration object.</param>
        public UserCredApi(Okta.Sdk.Client.IAsynchronousClient asyncClient, Okta.Sdk.Client.IReadableConfiguration configuration)
        {
            if (asyncClient == null) throw new ArgumentNullException("asyncClient");
            if (configuration == null) throw new ArgumentNullException("configuration");

            this.AsynchronousClient = asyncClient;
            this.Configuration = configuration;
            this.ExceptionFactory = Okta.Sdk.Client.Configuration.DefaultExceptionFactory;
             _oAuthTokenProvider = NullOAuthTokenProvider.Instance;
            if (Sdk.Client.Configuration.IsPrivateKeyMode(this.Configuration))
            {
                _oAuthTokenProvider = new DefaultOAuthTokenProvider(Configuration);
            }
        }

        /// <summary>
        /// The client for accessing this underlying API asynchronously.
        /// </summary>
        public Okta.Sdk.Client.IAsynchronousClient AsynchronousClient { get; set; }

        /// <summary>
        /// Gets the base path of the API client.
        /// </summary>
        /// <value>The base path</value>
        public string GetBasePath()
        {
            return this.Configuration.OktaDomain;
        }

        /// <summary>
        /// Gets or sets the configuration object
        /// </summary>
        /// <value>An instance of the Configuration</value>
        public Okta.Sdk.Client.IReadableConfiguration Configuration { get; set; }

        /// <summary>
        /// Provides a factory method hook for the creation of exceptions.
        /// </summary>
        public Okta.Sdk.Client.ExceptionFactory ExceptionFactory
        {
            get
            {
                if (_exceptionFactory != null && _exceptionFactory.GetInvocationList().Length > 1)
                {
                    throw new InvalidOperationException("Multicast delegate for ExceptionFactory is unsupported.");
                }
                return _exceptionFactory;
            }
            set { _exceptionFactory = value; }
        }
         
        /// <summary>
        /// Update password Updates a user&#39;s password by validating the user&#39;s current password.  This operation provides an option to delete all the sessions of the specified user. However, if the request is made in the context of a session owned by the specified user, that session isn&#39;t cleared.  You can only perform this operation on users in &#x60;STAGED&#x60;, &#x60;ACTIVE&#x60;, &#x60;PASSWORD_EXPIRED&#x60;, or &#x60;RECOVERY&#x60; status that have a valid [password credential](https://developer.okta.com/docs/api/openapi/okta-management/management/tag/User/#tag/User/operation/createUser!path&#x3D;credentials/password&amp;t&#x3D;request).  The user transitions to &#x60;ACTIVE&#x60; status when successfully invoked in &#x60;RECOVERY&#x60; status.  &gt; **Note:** The Okta account management policy doesn&#39;t support the &#x60;/users/{userId}/credentials/change_password&#x60; endpoint. See [Configure an Okta account management policy](https://developer.okta.com/docs/guides/okta-account-management-policy/main/).
        /// </summary>
        /// <exception cref="Okta.Sdk.Client.ApiException">Thrown when fails to make API call</exception>
        /// <param name="userId">ID of an existing Okta user</param>
        /// <param name="changePasswordRequest"></param>
        /// <param name="strict">If true, validates against the password minimum age policy (optional, default to false)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns>Task of UserCredentials</returns>
        public async System.Threading.Tasks.Task<UserCredentials> ChangePasswordAsync(  string userId ,   ChangePasswordRequest changePasswordRequest ,   bool? strict = default(bool?) , System.Threading.CancellationToken cancellationToken = default(System.Threading.CancellationToken))
        {
            Okta.Sdk.Client.ApiResponse<UserCredentials> localVarResponse = await ChangePasswordWithHttpInfoAsync(userId, changePasswordRequest, strict, cancellationToken).ConfigureAwait(false);
            return localVarResponse.Data;
        }
        /// <summary>
        /// Update password Updates a user&#39;s password by validating the user&#39;s current password.  This operation provides an option to delete all the sessions of the specified user. However, if the request is made in the context of a session owned by the specified user, that session isn&#39;t cleared.  You can only perform this operation on users in &#x60;STAGED&#x60;, &#x60;ACTIVE&#x60;, &#x60;PASSWORD_EXPIRED&#x60;, or &#x60;RECOVERY&#x60; status that have a valid [password credential](https://developer.okta.com/docs/api/openapi/okta-management/management/tag/User/#tag/User/operation/createUser!path&#x3D;credentials/password&amp;t&#x3D;request).  The user transitions to &#x60;ACTIVE&#x60; status when successfully invoked in &#x60;RECOVERY&#x60; status.  &gt; **Note:** The Okta account management policy doesn&#39;t support the &#x60;/users/{userId}/credentials/change_password&#x60; endpoint. See [Configure an Okta account management policy](https://developer.okta.com/docs/guides/okta-account-management-policy/main/).
        /// </summary>
        /// <exception cref="Okta.Sdk.Client.ApiException">Thrown when fails to make API call</exception>
        /// <param name="userId">ID of an existing Okta user</param>
        /// <param name="changePasswordRequest"></param>
        /// <param name="strict">If true, validates against the password minimum age policy (optional, default to false)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns>Task of ApiResponse (UserCredentials)</returns>
        public async System.Threading.Tasks.Task<Okta.Sdk.Client.ApiResponse<UserCredentials>> ChangePasswordWithHttpInfoAsync(  string userId ,   ChangePasswordRequest changePasswordRequest ,   bool? strict = default(bool?) , System.Threading.CancellationToken cancellationToken = default(System.Threading.CancellationToken))
        {
            // verify the required parameter 'userId' is set
            if (userId == null)
            {
                throw new Okta.Sdk.Client.ApiException(400, "Missing required parameter 'userId' when calling UserCredApi->ChangePassword");
            }

            // verify the required parameter 'changePasswordRequest' is set
            if (changePasswordRequest == null)
            {
                throw new Okta.Sdk.Client.ApiException(400, "Missing required parameter 'changePasswordRequest' when calling UserCredApi->ChangePassword");
            }


            Okta.Sdk.Client.RequestOptions localVarRequestOptions = new Okta.Sdk.Client.RequestOptions();

            string[] _contentTypes = new string[] {
                "application/json"
            };

            // to determine the Accept header
            string[] _accepts = new string[] {
                "application/json"
            };

            var localVarContentType = Okta.Sdk.Client.ClientUtils.SelectHeaderContentType(_contentTypes);
            if (localVarContentType != null)
            {
                localVarRequestOptions.HeaderParameters.Add("Content-Type", localVarContentType);
            }

            var localVarAccept = Okta.Sdk.Client.ClientUtils.SelectHeaderAccept(_accepts);
            if (localVarAccept != null)
            {
                localVarRequestOptions.HeaderParameters.Add("Accept", localVarAccept);
            }

            localVarRequestOptions.PathParameters.Add("userId", Okta.Sdk.Client.ClientUtils.ParameterToString(userId)); // path parameter
            if (strict != null)
            {
                localVarRequestOptions.QueryParameters.Add(Okta.Sdk.Client.ClientUtils.ParameterToMultiMap("", "strict", strict));
            }
            localVarRequestOptions.Data = changePasswordRequest;

            // authentication (apiToken) required
            if (Sdk.Client.Configuration.IsSswsMode(this.Configuration) && !string.IsNullOrEmpty(this.Configuration.GetApiKeyWithPrefix("Authorization")))
            {
                localVarRequestOptions.HeaderParameters.Add("Authorization", this.Configuration.GetApiKeyWithPrefix("Authorization"));
            }
            // authentication (oauth2) required
            // oauth required
            if (Sdk.Client.Configuration.IsBearerTokenMode(this.Configuration) && !string.IsNullOrEmpty(this.Configuration.AccessToken) && !localVarRequestOptions.HeaderParameters.ContainsKey("Authorization"))
            {
                localVarRequestOptions.HeaderParameters.Add("Authorization", "Bearer " + this.Configuration.AccessToken);
            }
            
            if (Sdk.Client.Configuration.IsPrivateKeyMode(this.Configuration) && !localVarRequestOptions.HeaderParameters.ContainsKey("Authorization"))
            {
                await _oAuthTokenProvider.AddOrUpdateAuthorizationHeader(localVarRequestOptions, $"/api/v1/users/{userId}/credentials/change_password", "POST", cancellationToken = default);
            }

            // make the HTTP request
            var localVarResponse = await this.AsynchronousClient.PostAsync<UserCredentials>("/api/v1/users/{userId}/credentials/change_password", localVarRequestOptions, this.Configuration, cancellationToken).ConfigureAwait(false);

            if (this.ExceptionFactory != null)
            {
                Exception _exception = this.ExceptionFactory("ChangePassword", localVarResponse);
                if (_exception != null)
                {
                    throw _exception;
                }
            }

            return localVarResponse;
        }

        /// <summary>
        /// Update recovery question Updates a user&#39;s recovery question and answer credential by validating the user&#39;s current password. You can only perform this operation on users in &#x60;STAGED&#x60;, &#x60;ACTIVE&#x60;, or &#x60;RECOVERY&#x60; status that have a valid [password credential](https://developer.okta.com/docs/api/openapi/okta-management/management/tag/User/#tag/User/operation/createUser!path&#x3D;credentials/password&amp;t&#x3D;request).
        /// </summary>
        /// <exception cref="Okta.Sdk.Client.ApiException">Thrown when fails to make API call</exception>
        /// <param name="userId">ID of an existing Okta user</param>
        /// <param name="userCredentials"></param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns>Task of UserCredentials</returns>
        public async System.Threading.Tasks.Task<UserCredentials> ChangeRecoveryQuestionAsync(  string userId ,   UserCredentials userCredentials , System.Threading.CancellationToken cancellationToken = default(System.Threading.CancellationToken))
        {
            Okta.Sdk.Client.ApiResponse<UserCredentials> localVarResponse = await ChangeRecoveryQuestionWithHttpInfoAsync(userId, userCredentials, cancellationToken).ConfigureAwait(false);
            return localVarResponse.Data;
        }
        /// <summary>
        /// Update recovery question Updates a user&#39;s recovery question and answer credential by validating the user&#39;s current password. You can only perform this operation on users in &#x60;STAGED&#x60;, &#x60;ACTIVE&#x60;, or &#x60;RECOVERY&#x60; status that have a valid [password credential](https://developer.okta.com/docs/api/openapi/okta-management/management/tag/User/#tag/User/operation/createUser!path&#x3D;credentials/password&amp;t&#x3D;request).
        /// </summary>
        /// <exception cref="Okta.Sdk.Client.ApiException">Thrown when fails to make API call</exception>
        /// <param name="userId">ID of an existing Okta user</param>
        /// <param name="userCredentials"></param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns>Task of ApiResponse (UserCredentials)</returns>
        public async System.Threading.Tasks.Task<Okta.Sdk.Client.ApiResponse<UserCredentials>> ChangeRecoveryQuestionWithHttpInfoAsync(  string userId ,   UserCredentials userCredentials , System.Threading.CancellationToken cancellationToken = default(System.Threading.CancellationToken))
        {
            // verify the required parameter 'userId' is set
            if (userId == null)
            {
                throw new Okta.Sdk.Client.ApiException(400, "Missing required parameter 'userId' when calling UserCredApi->ChangeRecoveryQuestion");
            }

            // verify the required parameter 'userCredentials' is set
            if (userCredentials == null)
            {
                throw new Okta.Sdk.Client.ApiException(400, "Missing required parameter 'userCredentials' when calling UserCredApi->ChangeRecoveryQuestion");
            }


            Okta.Sdk.Client.RequestOptions localVarRequestOptions = new Okta.Sdk.Client.RequestOptions();

            string[] _contentTypes = new string[] {
                "application/json"
            };

            // to determine the Accept header
            string[] _accepts = new string[] {
                "application/json"
            };

            var localVarContentType = Okta.Sdk.Client.ClientUtils.SelectHeaderContentType(_contentTypes);
            if (localVarContentType != null)
            {
                localVarRequestOptions.HeaderParameters.Add("Content-Type", localVarContentType);
            }

            var localVarAccept = Okta.Sdk.Client.ClientUtils.SelectHeaderAccept(_accepts);
            if (localVarAccept != null)
            {
                localVarRequestOptions.HeaderParameters.Add("Accept", localVarAccept);
            }

            localVarRequestOptions.PathParameters.Add("userId", Okta.Sdk.Client.ClientUtils.ParameterToString(userId)); // path parameter
            localVarRequestOptions.Data = userCredentials;

            // authentication (apiToken) required
            if (Sdk.Client.Configuration.IsSswsMode(this.Configuration) && !string.IsNullOrEmpty(this.Configuration.GetApiKeyWithPrefix("Authorization")))
            {
                localVarRequestOptions.HeaderParameters.Add("Authorization", this.Configuration.GetApiKeyWithPrefix("Authorization"));
            }
            // authentication (oauth2) required
            // oauth required
            if (Sdk.Client.Configuration.IsBearerTokenMode(this.Configuration) && !string.IsNullOrEmpty(this.Configuration.AccessToken) && !localVarRequestOptions.HeaderParameters.ContainsKey("Authorization"))
            {
                localVarRequestOptions.HeaderParameters.Add("Authorization", "Bearer " + this.Configuration.AccessToken);
            }
            
            if (Sdk.Client.Configuration.IsPrivateKeyMode(this.Configuration) && !localVarRequestOptions.HeaderParameters.ContainsKey("Authorization"))
            {
                await _oAuthTokenProvider.AddOrUpdateAuthorizationHeader(localVarRequestOptions, $"/api/v1/users/{userId}/credentials/change_recovery_question", "POST", cancellationToken = default);
            }

            // make the HTTP request
            var localVarResponse = await this.AsynchronousClient.PostAsync<UserCredentials>("/api/v1/users/{userId}/credentials/change_recovery_question", localVarRequestOptions, this.Configuration, cancellationToken).ConfigureAwait(false);

            if (this.ExceptionFactory != null)
            {
                Exception _exception = this.ExceptionFactory("ChangeRecoveryQuestion", localVarResponse);
                if (_exception != null)
                {
                    throw _exception;
                }
            }

            return localVarResponse;
        }

        /// <summary>
        /// Expire the password Expires the password. This operation transitions the user status to &#x60;PASSWORD_EXPIRED&#x60; so that the user must change their password the next time that they sign in. &lt;br&gt; If you have integrated Okta with your on-premises Active Directory (AD), then setting a user&#39;s password as expired in Okta also expires the password in AD. When the user tries to sign in to Okta, delegated authentication finds the password-expired status in AD, and the user is presented with the password-expired page where they can change their password.  &gt; **Note:** The Okta account management policy doesn&#39;t support the &#x60;/users/{id}/lifecycle/expire_password&#x60; endpoint. See [Configure an Okta account management policy](https://developer.okta.com/docs/guides/okta-account-management-policy/main/).
        /// </summary>
        /// <exception cref="Okta.Sdk.Client.ApiException">Thrown when fails to make API call</exception>
        /// <param name="id">An ID, login, or login shortname (as long as the shortname is unambiguous) of an existing Okta user</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns>Task of User</returns>
        public async System.Threading.Tasks.Task<User> ExpirePasswordAsync(  string id , System.Threading.CancellationToken cancellationToken = default(System.Threading.CancellationToken))
        {
            Okta.Sdk.Client.ApiResponse<User> localVarResponse = await ExpirePasswordWithHttpInfoAsync(id, cancellationToken).ConfigureAwait(false);
            return localVarResponse.Data;
        }
        /// <summary>
        /// Expire the password Expires the password. This operation transitions the user status to &#x60;PASSWORD_EXPIRED&#x60; so that the user must change their password the next time that they sign in. &lt;br&gt; If you have integrated Okta with your on-premises Active Directory (AD), then setting a user&#39;s password as expired in Okta also expires the password in AD. When the user tries to sign in to Okta, delegated authentication finds the password-expired status in AD, and the user is presented with the password-expired page where they can change their password.  &gt; **Note:** The Okta account management policy doesn&#39;t support the &#x60;/users/{id}/lifecycle/expire_password&#x60; endpoint. See [Configure an Okta account management policy](https://developer.okta.com/docs/guides/okta-account-management-policy/main/).
        /// </summary>
        /// <exception cref="Okta.Sdk.Client.ApiException">Thrown when fails to make API call</exception>
        /// <param name="id">An ID, login, or login shortname (as long as the shortname is unambiguous) of an existing Okta user</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns>Task of ApiResponse (User)</returns>
        public async System.Threading.Tasks.Task<Okta.Sdk.Client.ApiResponse<User>> ExpirePasswordWithHttpInfoAsync(  string id , System.Threading.CancellationToken cancellationToken = default(System.Threading.CancellationToken))
        {
            // verify the required parameter 'id' is set
            if (id == null)
            {
                throw new Okta.Sdk.Client.ApiException(400, "Missing required parameter 'id' when calling UserCredApi->ExpirePassword");
            }


            Okta.Sdk.Client.RequestOptions localVarRequestOptions = new Okta.Sdk.Client.RequestOptions();

            string[] _contentTypes = new string[] {
            };

            // to determine the Accept header
            string[] _accepts = new string[] {
                "application/json"
            };

            var localVarContentType = Okta.Sdk.Client.ClientUtils.SelectHeaderContentType(_contentTypes);
            if (localVarContentType != null)
            {
                localVarRequestOptions.HeaderParameters.Add("Content-Type", localVarContentType);
            }

            var localVarAccept = Okta.Sdk.Client.ClientUtils.SelectHeaderAccept(_accepts);
            if (localVarAccept != null)
            {
                localVarRequestOptions.HeaderParameters.Add("Accept", localVarAccept);
            }

            localVarRequestOptions.PathParameters.Add("id", Okta.Sdk.Client.ClientUtils.ParameterToString(id)); // path parameter

            // authentication (apiToken) required
            if (Sdk.Client.Configuration.IsSswsMode(this.Configuration) && !string.IsNullOrEmpty(this.Configuration.GetApiKeyWithPrefix("Authorization")))
            {
                localVarRequestOptions.HeaderParameters.Add("Authorization", this.Configuration.GetApiKeyWithPrefix("Authorization"));
            }
            // authentication (oauth2) required
            // oauth required
            if (Sdk.Client.Configuration.IsBearerTokenMode(this.Configuration) && !string.IsNullOrEmpty(this.Configuration.AccessToken) && !localVarRequestOptions.HeaderParameters.ContainsKey("Authorization"))
            {
                localVarRequestOptions.HeaderParameters.Add("Authorization", "Bearer " + this.Configuration.AccessToken);
            }
            
            if (Sdk.Client.Configuration.IsPrivateKeyMode(this.Configuration) && !localVarRequestOptions.HeaderParameters.ContainsKey("Authorization"))
            {
                await _oAuthTokenProvider.AddOrUpdateAuthorizationHeader(localVarRequestOptions, $"/api/v1/users/{id}/lifecycle/expire_password", "POST", cancellationToken = default);
            }

            // make the HTTP request
            var localVarResponse = await this.AsynchronousClient.PostAsync<User>("/api/v1/users/{id}/lifecycle/expire_password", localVarRequestOptions, this.Configuration, cancellationToken).ConfigureAwait(false);

            if (this.ExceptionFactory != null)
            {
                Exception _exception = this.ExceptionFactory("ExpirePassword", localVarResponse);
                if (_exception != null)
                {
                    throw _exception;
                }
            }

            return localVarResponse;
        }

        /// <summary>
        /// Expire the password with a temporary password Expires the password and resets the user&#39;s password to a temporary password. This operation transitions the user status to &#x60;PASSWORD_EXPIRED&#x60; so that the user must change their password the next time that they sign in. The user&#39;s password is reset to a temporary password that&#39;s returned, and then the user&#39;s password is expired. If &#x60;revokeSessions&#x60; is included in the request with a value of &#x60;true&#x60;, the user&#39;s current outstanding sessions are revoked and require re-authentication. &lt;br&gt; If you have integrated Okta with your on-premises Active Directory (AD), then setting a user&#39;s password as expired in Okta also expires the password in AD. When the user tries to sign in to Okta, delegated authentication finds the password-expired status in AD, and the user is presented with the password-expired page where they can change their password.
        /// </summary>
        /// <exception cref="Okta.Sdk.Client.ApiException">Thrown when fails to make API call</exception>
        /// <param name="id">An ID, login, or login shortname (as long as the shortname is unambiguous) of an existing Okta user</param>
        /// <param name="revokeSessions">Revokes the user&#39;s existing sessions if &#x60;true&#x60; (optional, default to false)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns>Task of User</returns>
        public async System.Threading.Tasks.Task<User> ExpirePasswordWithTempPasswordAsync(  string id ,   bool? revokeSessions = default(bool?) , System.Threading.CancellationToken cancellationToken = default(System.Threading.CancellationToken))
        {
            Okta.Sdk.Client.ApiResponse<User> localVarResponse = await ExpirePasswordWithTempPasswordWithHttpInfoAsync(id, revokeSessions, cancellationToken).ConfigureAwait(false);
            return localVarResponse.Data;
        }
        /// <summary>
        /// Expire the password with a temporary password Expires the password and resets the user&#39;s password to a temporary password. This operation transitions the user status to &#x60;PASSWORD_EXPIRED&#x60; so that the user must change their password the next time that they sign in. The user&#39;s password is reset to a temporary password that&#39;s returned, and then the user&#39;s password is expired. If &#x60;revokeSessions&#x60; is included in the request with a value of &#x60;true&#x60;, the user&#39;s current outstanding sessions are revoked and require re-authentication. &lt;br&gt; If you have integrated Okta with your on-premises Active Directory (AD), then setting a user&#39;s password as expired in Okta also expires the password in AD. When the user tries to sign in to Okta, delegated authentication finds the password-expired status in AD, and the user is presented with the password-expired page where they can change their password.
        /// </summary>
        /// <exception cref="Okta.Sdk.Client.ApiException">Thrown when fails to make API call</exception>
        /// <param name="id">An ID, login, or login shortname (as long as the shortname is unambiguous) of an existing Okta user</param>
        /// <param name="revokeSessions">Revokes the user&#39;s existing sessions if &#x60;true&#x60; (optional, default to false)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns>Task of ApiResponse (User)</returns>
        public async System.Threading.Tasks.Task<Okta.Sdk.Client.ApiResponse<User>> ExpirePasswordWithTempPasswordWithHttpInfoAsync(  string id ,   bool? revokeSessions = default(bool?) , System.Threading.CancellationToken cancellationToken = default(System.Threading.CancellationToken))
        {
            // verify the required parameter 'id' is set
            if (id == null)
            {
                throw new Okta.Sdk.Client.ApiException(400, "Missing required parameter 'id' when calling UserCredApi->ExpirePasswordWithTempPassword");
            }


            Okta.Sdk.Client.RequestOptions localVarRequestOptions = new Okta.Sdk.Client.RequestOptions();

            string[] _contentTypes = new string[] {
            };

            // to determine the Accept header
            string[] _accepts = new string[] {
                "application/json"
            };

            var localVarContentType = Okta.Sdk.Client.ClientUtils.SelectHeaderContentType(_contentTypes);
            if (localVarContentType != null)
            {
                localVarRequestOptions.HeaderParameters.Add("Content-Type", localVarContentType);
            }

            var localVarAccept = Okta.Sdk.Client.ClientUtils.SelectHeaderAccept(_accepts);
            if (localVarAccept != null)
            {
                localVarRequestOptions.HeaderParameters.Add("Accept", localVarAccept);
            }

            localVarRequestOptions.PathParameters.Add("id", Okta.Sdk.Client.ClientUtils.ParameterToString(id)); // path parameter
            if (revokeSessions != null)
            {
                localVarRequestOptions.QueryParameters.Add(Okta.Sdk.Client.ClientUtils.ParameterToMultiMap("", "revokeSessions", revokeSessions));
            }

            // authentication (apiToken) required
            if (Sdk.Client.Configuration.IsSswsMode(this.Configuration) && !string.IsNullOrEmpty(this.Configuration.GetApiKeyWithPrefix("Authorization")))
            {
                localVarRequestOptions.HeaderParameters.Add("Authorization", this.Configuration.GetApiKeyWithPrefix("Authorization"));
            }
            // authentication (oauth2) required
            // oauth required
            if (Sdk.Client.Configuration.IsBearerTokenMode(this.Configuration) && !string.IsNullOrEmpty(this.Configuration.AccessToken) && !localVarRequestOptions.HeaderParameters.ContainsKey("Authorization"))
            {
                localVarRequestOptions.HeaderParameters.Add("Authorization", "Bearer " + this.Configuration.AccessToken);
            }
            
            if (Sdk.Client.Configuration.IsPrivateKeyMode(this.Configuration) && !localVarRequestOptions.HeaderParameters.ContainsKey("Authorization"))
            {
                await _oAuthTokenProvider.AddOrUpdateAuthorizationHeader(localVarRequestOptions, $"/api/v1/users/{id}/lifecycle/expire_password_with_temp_password", "POST", cancellationToken = default);
            }

            // make the HTTP request
            var localVarResponse = await this.AsynchronousClient.PostAsync<User>("/api/v1/users/{id}/lifecycle/expire_password_with_temp_password", localVarRequestOptions, this.Configuration, cancellationToken).ConfigureAwait(false);

            if (this.ExceptionFactory != null)
            {
                Exception _exception = this.ExceptionFactory("ExpirePasswordWithTempPassword", localVarResponse);
                if (_exception != null)
                {
                    throw _exception;
                }
            }

            return localVarResponse;
        }

        /// <summary>
        /// Start forgot password flow Starts the forgot password flow.  Generates a one-time token (OTT) that you can use to reset a user&#39;s password.  The user must validate their security question&#39;s answer when visiting the reset link. Perform this operation only on users with an &#x60;ACTIVE&#x60; status and a valid [recovery question credential](https://developer.okta.com/docs/api/openapi/okta-management/management/tag/User/#tag/User/operation/createUser!path&#x3D;credentials/recovery_question&amp;t&#x3D;request).  &gt; **Note:** If you have migrated to Identity Engine, you can allow users to recover passwords with any enrolled MFA authenticator. See [Self-service account recovery](https://help.okta.com/oie/en-us/content/topics/identity-engine/authenticators/configure-sspr.htm?cshid&#x3D;ext-config-sspr).  If an email address is associated with multiple users, keep in mind the following to ensure a successful password recovery lookup:   * Okta no longer includes deactivated users in the lookup.   * The lookup searches sign-in IDs first, then primary email addresses, and then secondary email addresses.  If &#x60;sendEmail&#x60; is &#x60;false&#x60;, returns a link for the user to reset their password. This operation doesn&#39;t affect the status of the user.
        /// </summary>
        /// <exception cref="Okta.Sdk.Client.ApiException">Thrown when fails to make API call</exception>
        /// <param name="userId">ID of an existing Okta user</param>
        /// <param name="sendEmail">Sends a forgot password email to the user if &#x60;true&#x60; (optional, default to true)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns>Task of ForgotPasswordResponse</returns>
        public async System.Threading.Tasks.Task<ForgotPasswordResponse> ForgotPasswordAsync(  string userId ,   bool? sendEmail = default(bool?) , System.Threading.CancellationToken cancellationToken = default(System.Threading.CancellationToken))
        {
            Okta.Sdk.Client.ApiResponse<ForgotPasswordResponse> localVarResponse = await ForgotPasswordWithHttpInfoAsync(userId, sendEmail, cancellationToken).ConfigureAwait(false);
            return localVarResponse.Data;
        }
        /// <summary>
        /// Start forgot password flow Starts the forgot password flow.  Generates a one-time token (OTT) that you can use to reset a user&#39;s password.  The user must validate their security question&#39;s answer when visiting the reset link. Perform this operation only on users with an &#x60;ACTIVE&#x60; status and a valid [recovery question credential](https://developer.okta.com/docs/api/openapi/okta-management/management/tag/User/#tag/User/operation/createUser!path&#x3D;credentials/recovery_question&amp;t&#x3D;request).  &gt; **Note:** If you have migrated to Identity Engine, you can allow users to recover passwords with any enrolled MFA authenticator. See [Self-service account recovery](https://help.okta.com/oie/en-us/content/topics/identity-engine/authenticators/configure-sspr.htm?cshid&#x3D;ext-config-sspr).  If an email address is associated with multiple users, keep in mind the following to ensure a successful password recovery lookup:   * Okta no longer includes deactivated users in the lookup.   * The lookup searches sign-in IDs first, then primary email addresses, and then secondary email addresses.  If &#x60;sendEmail&#x60; is &#x60;false&#x60;, returns a link for the user to reset their password. This operation doesn&#39;t affect the status of the user.
        /// </summary>
        /// <exception cref="Okta.Sdk.Client.ApiException">Thrown when fails to make API call</exception>
        /// <param name="userId">ID of an existing Okta user</param>
        /// <param name="sendEmail">Sends a forgot password email to the user if &#x60;true&#x60; (optional, default to true)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns>Task of ApiResponse (ForgotPasswordResponse)</returns>
        public async System.Threading.Tasks.Task<Okta.Sdk.Client.ApiResponse<ForgotPasswordResponse>> ForgotPasswordWithHttpInfoAsync(  string userId ,   bool? sendEmail = default(bool?) , System.Threading.CancellationToken cancellationToken = default(System.Threading.CancellationToken))
        {
            // verify the required parameter 'userId' is set
            if (userId == null)
            {
                throw new Okta.Sdk.Client.ApiException(400, "Missing required parameter 'userId' when calling UserCredApi->ForgotPassword");
            }


            Okta.Sdk.Client.RequestOptions localVarRequestOptions = new Okta.Sdk.Client.RequestOptions();

            string[] _contentTypes = new string[] {
            };

            // to determine the Accept header
            string[] _accepts = new string[] {
                "application/json"
            };

            var localVarContentType = Okta.Sdk.Client.ClientUtils.SelectHeaderContentType(_contentTypes);
            if (localVarContentType != null)
            {
                localVarRequestOptions.HeaderParameters.Add("Content-Type", localVarContentType);
            }

            var localVarAccept = Okta.Sdk.Client.ClientUtils.SelectHeaderAccept(_accepts);
            if (localVarAccept != null)
            {
                localVarRequestOptions.HeaderParameters.Add("Accept", localVarAccept);
            }

            localVarRequestOptions.PathParameters.Add("userId", Okta.Sdk.Client.ClientUtils.ParameterToString(userId)); // path parameter
            if (sendEmail != null)
            {
                localVarRequestOptions.QueryParameters.Add(Okta.Sdk.Client.ClientUtils.ParameterToMultiMap("", "sendEmail", sendEmail));
            }

            // authentication (apiToken) required
            if (Sdk.Client.Configuration.IsSswsMode(this.Configuration) && !string.IsNullOrEmpty(this.Configuration.GetApiKeyWithPrefix("Authorization")))
            {
                localVarRequestOptions.HeaderParameters.Add("Authorization", this.Configuration.GetApiKeyWithPrefix("Authorization"));
            }
            // authentication (oauth2) required
            // oauth required
            if (Sdk.Client.Configuration.IsBearerTokenMode(this.Configuration) && !string.IsNullOrEmpty(this.Configuration.AccessToken) && !localVarRequestOptions.HeaderParameters.ContainsKey("Authorization"))
            {
                localVarRequestOptions.HeaderParameters.Add("Authorization", "Bearer " + this.Configuration.AccessToken);
            }
            
            if (Sdk.Client.Configuration.IsPrivateKeyMode(this.Configuration) && !localVarRequestOptions.HeaderParameters.ContainsKey("Authorization"))
            {
                await _oAuthTokenProvider.AddOrUpdateAuthorizationHeader(localVarRequestOptions, $"/api/v1/users/{userId}/credentials/forgot_password", "POST", cancellationToken = default);
            }

            // make the HTTP request
            var localVarResponse = await this.AsynchronousClient.PostAsync<ForgotPasswordResponse>("/api/v1/users/{userId}/credentials/forgot_password", localVarRequestOptions, this.Configuration, cancellationToken).ConfigureAwait(false);

            if (this.ExceptionFactory != null)
            {
                Exception _exception = this.ExceptionFactory("ForgotPassword", localVarResponse);
                if (_exception != null)
                {
                    throw _exception;
                }
            }

            return localVarResponse;
        }

        /// <summary>
        /// Reset password with recovery question Resets the user&#39;s password to the specified password if the provided answer to the recovery question is correct. You must include the recovery question answer with the submission.
        /// </summary>
        /// <exception cref="Okta.Sdk.Client.ApiException">Thrown when fails to make API call</exception>
        /// <param name="userId">ID of an existing Okta user</param>
        /// <param name="userCredentials"></param>
        /// <param name="sendEmail"> (optional, default to true)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns>Task of UserCredentials</returns>
        public async System.Threading.Tasks.Task<UserCredentials> ForgotPasswordSetNewPasswordAsync(  string userId ,   UserCredentials userCredentials ,   bool? sendEmail = default(bool?) , System.Threading.CancellationToken cancellationToken = default(System.Threading.CancellationToken))
        {
            Okta.Sdk.Client.ApiResponse<UserCredentials> localVarResponse = await ForgotPasswordSetNewPasswordWithHttpInfoAsync(userId, userCredentials, sendEmail, cancellationToken).ConfigureAwait(false);
            return localVarResponse.Data;
        }
        /// <summary>
        /// Reset password with recovery question Resets the user&#39;s password to the specified password if the provided answer to the recovery question is correct. You must include the recovery question answer with the submission.
        /// </summary>
        /// <exception cref="Okta.Sdk.Client.ApiException">Thrown when fails to make API call</exception>
        /// <param name="userId">ID of an existing Okta user</param>
        /// <param name="userCredentials"></param>
        /// <param name="sendEmail"> (optional, default to true)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns>Task of ApiResponse (UserCredentials)</returns>
        public async System.Threading.Tasks.Task<Okta.Sdk.Client.ApiResponse<UserCredentials>> ForgotPasswordSetNewPasswordWithHttpInfoAsync(  string userId ,   UserCredentials userCredentials ,   bool? sendEmail = default(bool?) , System.Threading.CancellationToken cancellationToken = default(System.Threading.CancellationToken))
        {
            // verify the required parameter 'userId' is set
            if (userId == null)
            {
                throw new Okta.Sdk.Client.ApiException(400, "Missing required parameter 'userId' when calling UserCredApi->ForgotPasswordSetNewPassword");
            }

            // verify the required parameter 'userCredentials' is set
            if (userCredentials == null)
            {
                throw new Okta.Sdk.Client.ApiException(400, "Missing required parameter 'userCredentials' when calling UserCredApi->ForgotPasswordSetNewPassword");
            }


            Okta.Sdk.Client.RequestOptions localVarRequestOptions = new Okta.Sdk.Client.RequestOptions();

            string[] _contentTypes = new string[] {
                "application/json"
            };

            // to determine the Accept header
            string[] _accepts = new string[] {
                "application/json"
            };

            var localVarContentType = Okta.Sdk.Client.ClientUtils.SelectHeaderContentType(_contentTypes);
            if (localVarContentType != null)
            {
                localVarRequestOptions.HeaderParameters.Add("Content-Type", localVarContentType);
            }

            var localVarAccept = Okta.Sdk.Client.ClientUtils.SelectHeaderAccept(_accepts);
            if (localVarAccept != null)
            {
                localVarRequestOptions.HeaderParameters.Add("Accept", localVarAccept);
            }

            localVarRequestOptions.PathParameters.Add("userId", Okta.Sdk.Client.ClientUtils.ParameterToString(userId)); // path parameter
            if (sendEmail != null)
            {
                localVarRequestOptions.QueryParameters.Add(Okta.Sdk.Client.ClientUtils.ParameterToMultiMap("", "sendEmail", sendEmail));
            }
            localVarRequestOptions.Data = userCredentials;

            // authentication (apiToken) required
            if (Sdk.Client.Configuration.IsSswsMode(this.Configuration) && !string.IsNullOrEmpty(this.Configuration.GetApiKeyWithPrefix("Authorization")))
            {
                localVarRequestOptions.HeaderParameters.Add("Authorization", this.Configuration.GetApiKeyWithPrefix("Authorization"));
            }
            // authentication (oauth2) required
            // oauth required
            if (Sdk.Client.Configuration.IsBearerTokenMode(this.Configuration) && !string.IsNullOrEmpty(this.Configuration.AccessToken) && !localVarRequestOptions.HeaderParameters.ContainsKey("Authorization"))
            {
                localVarRequestOptions.HeaderParameters.Add("Authorization", "Bearer " + this.Configuration.AccessToken);
            }
            
            if (Sdk.Client.Configuration.IsPrivateKeyMode(this.Configuration) && !localVarRequestOptions.HeaderParameters.ContainsKey("Authorization"))
            {
                await _oAuthTokenProvider.AddOrUpdateAuthorizationHeader(localVarRequestOptions, $"/api/v1/users/{userId}/credentials/forgot_password_recovery_question", "POST", cancellationToken = default);
            }

            // make the HTTP request
            var localVarResponse = await this.AsynchronousClient.PostAsync<UserCredentials>("/api/v1/users/{userId}/credentials/forgot_password_recovery_question", localVarRequestOptions, this.Configuration, cancellationToken).ConfigureAwait(false);

            if (this.ExceptionFactory != null)
            {
                Exception _exception = this.ExceptionFactory("ForgotPasswordSetNewPassword", localVarResponse);
                if (_exception != null)
                {
                    throw _exception;
                }
            }

            return localVarResponse;
        }

        /// <summary>
        /// Reset a password Resets a password. Generates a one-time token (OTT) that you can use to reset a user&#39;s password. You can automatically email the OTT link to the user or return the OTT to the API caller and distribute using a custom flow.  This operation transitions the user to the &#x60;RECOVERY&#x60; status. The user is then not able to sign in or initiate a forgot password flow until they complete the reset flow.  This operation provides an option to delete all the user&#39;s sessions. However, if the request is made in the context of a session owned by the specified user, that session isn&#39;t cleared. &gt; **Note:** You can also use this API to convert a user with the Okta credential provider to use a federated provider. After this conversion, the user can&#39;t directly sign in with a password. &gt; To convert a federated user back to an Okta user, use the default API call.  If an email address is associated with multiple users, keep in mind the following to ensure a successful password recovery lookup:   * Okta no longer includes deactivated users in the lookup.   * The lookup searches sign-in IDs first, then primary email addresses, and then secondary email addresses.   If &#x60;sendEmail&#x60; is &#x60;false&#x60;, returns a link for the user to reset their password.
        /// </summary>
        /// <exception cref="Okta.Sdk.Client.ApiException">Thrown when fails to make API call</exception>
        /// <param name="id">An ID, login, or login shortname (as long as the shortname is unambiguous) of an existing Okta user</param>
        /// <param name="sendEmail"></param>
        /// <param name="revokeSessions">Revokes all user sessions, except for the current session, if set to &#x60;true&#x60; (optional, default to false)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns>Task of ResetPasswordToken</returns>
        public async System.Threading.Tasks.Task<ResetPasswordToken> ResetPasswordAsync(  string id ,   bool sendEmail ,   bool? revokeSessions = default(bool?) , System.Threading.CancellationToken cancellationToken = default(System.Threading.CancellationToken))
        {
            Okta.Sdk.Client.ApiResponse<ResetPasswordToken> localVarResponse = await ResetPasswordWithHttpInfoAsync(id, sendEmail, revokeSessions, cancellationToken).ConfigureAwait(false);
            return localVarResponse.Data;
        }
        /// <summary>
        /// Reset a password Resets a password. Generates a one-time token (OTT) that you can use to reset a user&#39;s password. You can automatically email the OTT link to the user or return the OTT to the API caller and distribute using a custom flow.  This operation transitions the user to the &#x60;RECOVERY&#x60; status. The user is then not able to sign in or initiate a forgot password flow until they complete the reset flow.  This operation provides an option to delete all the user&#39;s sessions. However, if the request is made in the context of a session owned by the specified user, that session isn&#39;t cleared. &gt; **Note:** You can also use this API to convert a user with the Okta credential provider to use a federated provider. After this conversion, the user can&#39;t directly sign in with a password. &gt; To convert a federated user back to an Okta user, use the default API call.  If an email address is associated with multiple users, keep in mind the following to ensure a successful password recovery lookup:   * Okta no longer includes deactivated users in the lookup.   * The lookup searches sign-in IDs first, then primary email addresses, and then secondary email addresses.   If &#x60;sendEmail&#x60; is &#x60;false&#x60;, returns a link for the user to reset their password.
        /// </summary>
        /// <exception cref="Okta.Sdk.Client.ApiException">Thrown when fails to make API call</exception>
        /// <param name="id">An ID, login, or login shortname (as long as the shortname is unambiguous) of an existing Okta user</param>
        /// <param name="sendEmail"></param>
        /// <param name="revokeSessions">Revokes all user sessions, except for the current session, if set to &#x60;true&#x60; (optional, default to false)</param>
        /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
        /// <returns>Task of ApiResponse (ResetPasswordToken)</returns>
        public async System.Threading.Tasks.Task<Okta.Sdk.Client.ApiResponse<ResetPasswordToken>> ResetPasswordWithHttpInfoAsync(  string id ,   bool sendEmail ,   bool? revokeSessions = default(bool?) , System.Threading.CancellationToken cancellationToken = default(System.Threading.CancellationToken))
        {
            // verify the required parameter 'id' is set
            if (id == null)
            {
                throw new Okta.Sdk.Client.ApiException(400, "Missing required parameter 'id' when calling UserCredApi->ResetPassword");
            }


            Okta.Sdk.Client.RequestOptions localVarRequestOptions = new Okta.Sdk.Client.RequestOptions();

            string[] _contentTypes = new string[] {
            };

            // to determine the Accept header
            string[] _accepts = new string[] {
                "application/json"
            };

            var localVarContentType = Okta.Sdk.Client.ClientUtils.SelectHeaderContentType(_contentTypes);
            if (localVarContentType != null)
            {
                localVarRequestOptions.HeaderParameters.Add("Content-Type", localVarContentType);
            }

            var localVarAccept = Okta.Sdk.Client.ClientUtils.SelectHeaderAccept(_accepts);
            if (localVarAccept != null)
            {
                localVarRequestOptions.HeaderParameters.Add("Accept", localVarAccept);
            }

            localVarRequestOptions.PathParameters.Add("id", Okta.Sdk.Client.ClientUtils.ParameterToString(id)); // path parameter
            localVarRequestOptions.QueryParameters.Add(Okta.Sdk.Client.ClientUtils.ParameterToMultiMap("", "sendEmail", sendEmail));
            if (revokeSessions != null)
            {
                localVarRequestOptions.QueryParameters.Add(Okta.Sdk.Client.ClientUtils.ParameterToMultiMap("", "revokeSessions", revokeSessions));
            }

            // authentication (apiToken) required
            if (Sdk.Client.Configuration.IsSswsMode(this.Configuration) && !string.IsNullOrEmpty(this.Configuration.GetApiKeyWithPrefix("Authorization")))
            {
                localVarRequestOptions.HeaderParameters.Add("Authorization", this.Configuration.GetApiKeyWithPrefix("Authorization"));
            }
            // authentication (oauth2) required
            // oauth required
            if (Sdk.Client.Configuration.IsBearerTokenMode(this.Configuration) && !string.IsNullOrEmpty(this.Configuration.AccessToken) && !localVarRequestOptions.HeaderParameters.ContainsKey("Authorization"))
            {
                localVarRequestOptions.HeaderParameters.Add("Authorization", "Bearer " + this.Configuration.AccessToken);
            }
            
            if (Sdk.Client.Configuration.IsPrivateKeyMode(this.Configuration) && !localVarRequestOptions.HeaderParameters.ContainsKey("Authorization"))
            {
                await _oAuthTokenProvider.AddOrUpdateAuthorizationHeader(localVarRequestOptions, $"/api/v1/users/{id}/lifecycle/reset_password", "POST", cancellationToken = default);
            }

            // make the HTTP request
            var localVarResponse = await this.AsynchronousClient.PostAsync<ResetPasswordToken>("/api/v1/users/{id}/lifecycle/reset_password", localVarRequestOptions, this.Configuration, cancellationToken).ConfigureAwait(false);

            if (this.ExceptionFactory != null)
            {
                Exception _exception = this.ExceptionFactory("ResetPassword", localVarResponse);
                if (_exception != null)
                {
                    throw _exception;
                }
            }

            return localVarResponse;
        }

    }
}
